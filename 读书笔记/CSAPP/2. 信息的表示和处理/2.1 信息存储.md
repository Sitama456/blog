# 2.1 信息存储
大多数计算机使用`8 bits`的块，或者`字节`，作为最小的可寻址的内存单位，而不直接访问内存中单独的位。内存被看作一个非常大的`字节数组`，称为`虚拟内存`。每个字节都由唯一的数字来标识，称为它的地址(下标)，所有可能的地址的集合就称为`虚拟地址空间`。
对于一个多字节的`程序对象`，其地址就是指向第一个字节的虚拟地址。每个`程序对象`可以简单视为一个字节块，程序本身就一个字节序列。
## 2.1.1 十六进制表示方法
一个十六进制数有`4 bits`，即两个十六进制数就可以表示一个字节，这比二进制表示要简洁多了。将二进制数每`4 bits`化作一组，就得到了十六进制。
![](pic/2.1%20信息存储/二进制转十六进制.png)

## 2.1.2 字数据大小
计算机都有一个`字长`，指明指针数据的标称大小。对于一个字长位$w$位的机器而言，虚拟地址的范围就是$0 \sim 2^w - 1$，程序最多访问$2^w$个字节。
![](pic/2.1%20信息存储/C数据类型受字长影响.png)
大部分数据类型都编码为有符号数值，除非有前缀`unsigned`或者对确定大小的数据类型使用了特定的无符号声明。

### 2.1.3 寻址和字节顺序
对于跨越多字节的程序对象，必须要有两个规则：这个对象的地址是什么？如何在内存中排列这些字节。在几乎所有的机器上，多字节对象都被存储为连续的字节序列，对象的地址为所使用字节中最小的地址，即首地址。
排列表示一个对象的字节有两个通用的规则。考虑一个$w$为的整数，表示为$[x_{w-1}, x_{w-2}, \cdots, x_1, x_0]$。最高有效字节包含位$[x_{w-1}, x_{w-2}, \cdots, x_{w-7}, x_{w-8}]$，最低有效字节包含$[x_7, x_6, \cdots, x_1, x_0]$。有两种字节排列规则：大端法——最高有效位排在前面；小端法——最低有效位排在前面。
![](pic/2.1%20信息存储/大小端字节排列.png)
在书写的时候，由于人们的阅读习惯，一般按照大端法书写。

### 2.1.4 表示字符串
C语言中字符串被编码位一个以`null(值为0)`字符结尾的字符数组，每个字符都由2某个编码标准来表示。字符串的编码与大小端无关。因此，文本数据比二进制数据更容易跨平台。

### 2.1.5 表示代码
对于C函数：
![](pic/2.1%20信息存储/sum函数.png)
编译后生成如下的字节表示机器代码：
![](pic/2.1%20信息存储/机器码.png)

### 2.1.6 布尔代数
![](pic/2.1%20信息存储/bool代数.png)

### 2.1.7 C语言位级运算
![](pic/2.1%20信息存储/位级运算.png)

### 2.1.8 逻辑运算
逻辑运算认为所有非零值都表示TRUE，零值表示FALSE。它们返回1或者0，分别表示TRUE和FALSE。

### 2.1.9 移位运算
$x \ll k$表示$x$向左移动$k$位，丢弃最高的$k$位，并在右端补$k$个0。
$x \gg k$ 表示$x$向右移动$k$位，丢弃最低的$k$位。无符号数执行`逻辑右移`，在左端补$k$个0。有符号数执行`算术右移`，在左端补$k$个符号位。
![](pic/2.1%20信息存储/移位操作.png)

### 小结
本节主要阐述了信息如何被编码和存储在内存中的。内存就是一个很大的字节数组，一个字节有8个比特位，每个比特位只能表示0或者1。所以字节中的内容就是一串0和1。这串0和1可以表示位二进制，也可以表示位十六进制。
