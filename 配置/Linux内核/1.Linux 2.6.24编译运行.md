# 编译内核
> [Linux-2.6.24](https://mirrors.edge.kernel.org/pub/linux/kernel/v2.6/)  
> Ubuntu 14.04

## 1. 编译Linux
### 准备工作
解压源码
```bash
tar -xf linux-2.6.24.tar.xz
```
更换源
```bash
cd /etc/apt
cp source.list source.list.bak
```
更换为清华源，删除`source.list`中的所有内容，粘贴
```bash
# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-updates main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-backports main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-backports main restricted universe multiverse

# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-security main restricted universe multiverse
# # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-security main restricted universe multiverse

deb http://security.ubuntu.com/ubuntu/ trusty-security main restricted universe multiverse
# deb-src http://security.ubuntu.com/ubuntu/ trusty-security main restricted universe multiverse

# 预发布软件源，不建议启用
# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-proposed main restricted universe multiverse
# # deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ trusty-proposed main restricted universe multiverse
```
再更新一下 。

安装基本工具
```bash
sudo apt install gcc gdb make git gcc-4.4 qemu
```

### 编译 busybox

下载busybox 1.35 源码[Busybox-1.35](https://busybox.net/downloads/)，并解压
```bash
tar -jxvf busybox-1.35.0.tar.bz2

## 下面这两步需要界面
make defconfig

make menuconfig
```
如果报错
```bash
<command-line>: fatal error: curses.h: No such file or directory
```
就安装
```bash
sudo apt-get install libncurses5-dev
```
选择Setting --> Build static binary，然后
```bash
make -j4
```
